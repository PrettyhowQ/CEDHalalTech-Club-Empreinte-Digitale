from datetime import datetime
import json
import pandas as pd
import zipfile
from pathlib import Path

# CrÃ©ation des fichiers demandÃ©s
base_path = Path("/mnt/data/ced_halaltech_icons_pack")
base_path.mkdir(exist_ok=True)

# 1. Fichier Markdown
markdown_content = """
# ğŸ“š BibliothÃ¨que dâ€™icÃ´nes Halal â€“ CED HalalTechâ„¢ (v1)

Protocole : chaque module choisit **1 icÃ´ne principale** + (optionnel) 2 icÃ´nes de soutien.  
Interdits : ğŸ”®, â™ˆ, ğŸ°, ğŸ· pour usage fonctionnel.  
Validations Ã©thiques : ğŸ›¡ï¸ + âœ….

---

## ğŸ“Š Finance Halal
| Label | IcÃ´ne | Usage |
|---|---|---|
| PrÃ©visionnel Halal | ğŸ“ŠğŸ§®ğŸ“…ğŸ’¼ğŸ’¡ | Projections budgÃ©taires Ã©thiques |
| Calcul Zakat | ğŸ§®ğŸ¤² | Calculs obligatoires |
| Budget Mensuel | ğŸ“…ğŸ’¼ | Plan comptable pÃ©riodique |

## ğŸ›¡ï¸ Protection & Licence
| Label | IcÃ´ne | Usage |
|---|---|---|
| Licence Ã‰thique | ğŸ›¡ï¸ğŸ“œ | Conditions halal |
| Signature AutorisÃ©e | âœï¸âœ… | Accord validÃ© |
| Usage Interdit | ğŸš« | Non conforme |

## ğŸ“ Formations & DiplÃ´mes
| Label | IcÃ´ne | Usage |
|---|---|---|
| Certification validÃ©e | ğŸ“âœ… | DiplÃ´me obtenu |
| Progression | ğŸ“ˆğŸ“˜ | Suivi pÃ©dagogique |
| Excellence | ğŸŒŸğŸ§  | RÃ©ussite mÃ©ritÃ©e |

## â±ï¸ Planning & ProductivitÃ©
| Label | IcÃ´ne | Usage |
|---|---|---|
| Timer Pomodoro | â±ï¸ | Gestion du temps |
| Planning | ğŸ“…ğŸ“Œ | Organisation personnelle |
| PrioritÃ© | ğŸ“Œâœ… | TÃ¢che importante |

## ğŸ¤ CommunautÃ© & Partenariats
| Label | IcÃ´ne | Usage |
|---|---|---|
| Collaboration | ğŸ¤ | Accord halal |
| Groupe Test | ğŸ‘¥ğŸ—£ï¸ | Feedback utilisateurs |
| Multilingue | ğŸŒğŸ’¬ | Plateforme mondiale |

## ğŸŒ™ Services Islamiques
| Label | IcÃ´ne | Usage |
|---|---|---|
| PriÃ¨res | ğŸ•ŒğŸ“… | Horaires et alertes |
| Douâ€˜Ã¢a | ğŸ¤² | Intentions / invocations |
| Zakat | ğŸ§®ğŸ’° | Simulation Ã©thique |

---

Â© Yakoubi Yamina â€“ Tous droits rÃ©servÃ©s | Club Empreinte Digitale â€“ CED HalalTechâ„¢  
Utilisation exclusivement halal â€“ Toute exploitation commerciale nÃ©cessite accord Ã©crit.
"""

markdown_path = base_path / "icons_halaltech.md"
markdown_path.write_text(markdown_content, encoding="utf-8")

# 2. JSON multilingue
icons_json = [
    {"id": "forecast", "emoji": "ğŸ“Š", "fr": "PrÃ©visionnel", "en": "Forecast", "ar": "ØªÙ‚Ø¯ÙŠØ±"},
    {"id": "calculator", "emoji": "ğŸ§®", "fr": "Calculs", "en": "Calculations", "ar": "Ø­Ø³Ø§Ø¨Ø§Øª"},
    {"id": "calendar", "emoji": "ğŸ“…", "fr": "Calendrier", "en": "Calendar", "ar": "ØªÙ‚ÙˆÙŠÙ…"},
    {"id": "briefcase", "emoji": "ğŸ’¼", "fr": "Gestion", "en": "Management", "ar": "Ø¥Ø¯Ø§Ø±Ø©"},
    {"id": "insight", "emoji": "ğŸ’¡", "fr": "Projection", "en": "Insight", "ar": "Ø±Ø¤ÙŠØ©"},
    {"id": "shield", "emoji": "ğŸ›¡ï¸", "fr": "Protection", "en": "Protection", "ar": "Ø­Ù…Ø§ÙŠØ©"},
    {"id": "document", "emoji": "ğŸ“œ", "fr": "Charte", "en": "Charter", "ar": "Ù…ÙŠØ«Ø§Ù‚"},
    {"id": "mosque", "emoji": "ğŸ•Œ", "fr": "PriÃ¨re", "en": "Prayer", "ar": "ØµÙ„Ø§Ø©"},
    {"id": "dua", "emoji": "ğŸ¤²", "fr": "Douâ€˜Ã¢a", "en": "Supplication", "ar": "Ø¯Ø¹Ø§Ø¡"},
]

json_path = base_path / "icons_halaltech.json"
json_path.write_text(json.dumps(icons_json, ensure_ascii=False, indent=2), encoding="utf-8")

# 3. CSV version (pour Notion/Airtable)
df = pd.DataFrame(icons_json)
csv_path = base_path / "icons_halaltech.csv"
df.to_csv(csv_path, index=False)

# 4. HTML/JS snippet
html_js_content = """
<!-- Menu d'icÃ´nes Halal (CED HalalTechâ„¢) -->
<div id="icon-menu">
  <button title="PrÃ©visionnel">ğŸ“Š</button>
  <button title="Calculs">ğŸ§®</button>
  <button title="Calendrier">ğŸ“…</button>
  <button title="Gestion">ğŸ’¼</button>
  <button title="Projection">ğŸ’¡</button>
  <button title="Protection">ğŸ›¡ï¸</button>
  <button title="Charte">ğŸ“œ</button>
  <button title="PriÃ¨re">ğŸ•Œ</button>
  <button title="Douâ€˜Ã¢a">ğŸ¤²</button>
</div>

<style>
  #icon-menu button {
    font-size: 24px;
    margin: 5px;
    background: none;
    border: 1px solid #ccc;
    border-radius: 6px;
    padding: 8px;
    cursor: pointer;
  }
</style>
"""

html_path = base_path / "icons_halaltech.html"
html_path.write_text(html_js_content, encoding="utf-8")

# Zip final
zip_path = "/mnt/data/Icons_HalalTech_Pack_CED.zip"
with zipfile.ZipFile(zip_path, 'w') as zipf:
    for file in base_path.iterdir():
        zipf.write(file, arcname=file.name)

zip_path
